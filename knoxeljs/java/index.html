<html>
<head>
<title> Knoxeljs </title>

<link rel="stylesheet" type="text/css" href="/css/style.css">

<!-- Embed the Javapoly code into this HTML page for future use (note that javapoly provides
       a JVM and Java compiler written in javascript that can run in the browser) -->
<script type="text/javascript" src="https://www.javapoly.com/javapoly.js"></script>

<!-- Embed the Turtle3D library in the HTML page so that we can use it to compile
       the in-page scripts written by the users. This works despite the fact that the
       library is written in Java because of JavaPoly -->
<script type="text/java" src="/java/lib/knoxeljs-0.2.jar"></script>

</head>
<body>

<div id="sidebyside">
  <!-- <div id="tablerow"> -->
  <!-- This is the embedded IDE -->
  <div id="editor">
import org.knoxcraft.turtle3d.Turtle3D;
import static org.knoxcraft.turtle3d.KCTBlockTypes.*;

public class HelloWorld {
  public static void main(String[] args) {
    Turtle3D t=Turtle3D.createTurtle("myturtle");
    t.setBlock(RED_WOOL);
    t.forward(10);
  }
}
  </div>
  <div id="blocktypes"> </div>

</div>

<!-- load code for the embedded ACE editor -->
<script src="/ace-builds/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
// setup the ACE editor
var editor = ace.edit("editor");
editor.setTheme("ace/theme/monokai");
editor.getSession().setMode("ace/mode/java");
editor.setAutoScrollEditorIntoView(true);
</script>

<div id="message">
  <br>
</div>

<!-- This is the compile button. Its click action handler is set in index.js -->
<div>
  <p>
  <button type="button" id="compileandrun">Compile code</button>
  </p>
</div>

<!-- These are more buttons. Their click action handlers are set in index.js as well -->
<!--
<div>
  <input type="file" id="JSONUploadButton" onchange="parseJSON(this.files)">
</div>
-->
<div>
<p>Script Status: <span id="scriptstatus">No script loaded</span></p>
</div>

<div>
<button type="button" id="runscript">Run Current Script</button>
<button type="button" id="undo">Undo Last Script</button>
</div>

<div id="debug">
<p>Debug Look Location: <span id="looklocation">n/a</span></p>
</div>

<script type="text/javascript" src="foo.js"></script>

<script type="text/javascript">
//foo('the msg');
</script>

<!-- Load the voxeljs code. Needs to be loaded before the rest of our code -->
<script type="text/javascript" src="../bundle.js"></script>

<p></p>

<script type="text/javascript">
  foo('message fuckers');
  setupJavaKnoxelPage('compileandrun');
  document.getElementById('runscript').addEventListener('click', runScript);
  document.getElementById('undo').addEventListener('click', undo);
  document.getElementById('JSONUploadButton').addEventListener('change', parseJSON, false);

</script>


</body>
</html>
